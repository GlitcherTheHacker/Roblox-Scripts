-- ⚡ No Cooldown vX (Ping-Safe Max)
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Override delays to use frame-accurate scheduling
hookfunction(wait, function() return RunService.PostSimulation:Wait() end)
hookfunction(task.wait, function() return RunService.PostSimulation:Wait() end)
hookfunction(delay, function(_, f) task.spawn(f) end)
hookfunction(spawn, function(f) task.spawn(f) end)

task.spawn(function()
	while true do
		RunService.PostSimulation:Wait()

		local char = LocalPlayer.Character
		if not char then continue end

		local hrp = char:FindFirstChild("HumanoidRootPart")
		local tool = char:FindFirstChildOfClass("Tool")
		if not hrp or not tool then continue end

		local fightEvent = tool:FindFirstChild("FightEvent")
		if not fightEvent then continue end

		-- Scan nearby players only (avoid global spam)
		for _, plr in ipairs(Players:GetPlayers()) do
			if plr ~= LocalPlayer and plr.Character then
				local enemyHRP = plr.Character:FindFirstChild("HumanoidRootPart")
				if enemyHRP and (hrp.Position - enemyHRP.Position).Magnitude <= 20 then
					fightEvent:FireServer(enemyHRP)
				end
			end
		end
	end
end)

print("✅ No Cooldown vX loaded (max speed, ping-safe)")
